# Life Log App – 開発振り返りメモ

## このアプリでやりたかったこと

日々の運動を記録し、「これだけ継続できた」という事実を後から振り返られることができるものに、
単なる記録ではなく、自分自身の努力が可視化されるログを残すことを目的にしたかった。

ダイエットや体重管理には運動よりも食事管理の比重が大きいと考えており、
レコーディングダイエットのように、食事内容を振り返るための目安として機能する要素を取り入れたかった。

食事の画像を記録するという性質上、PC よりもスマートフォンからの利用が中心になると想定し、
UI / UX は最初からモバイルファーストで設計することを意識した。
**「実際に使えるアプリケーション」としてのポートフォリオ**を作りたかった。

記録して終わりではなく、過去のログを一覧・月単位で振り返ることで、行動の変化や継続を確認できる構成へ、

技術的には、React + TypeScript を用いて、
設計・型定義・状態管理を含めて「とにかく動くところまで」一通り自分の手で作り切ることを目標とした。

## 設計で意識したこと

### 1 日のログをどう構成・表示するか

- このアプリでは、1 日分の情報として「運動」と「食事」の両方を扱う必要があった。
  最初に悩んだのは、それらを別々のデータとして扱うか、1 日のログとしてまとめるかという点だった。
- 運動ログと食事ログは性質が異なるものの、
  利用者視点では「今日は何をしたか・何を食べたか」を 1 日の単位で振り返ることが重要だと考え、
  UI 上は 1 日 = 1 ログ としてまとめて表示する設計を選んだ。
- 一方で、データ構造としては将来的な拡張（食事の追加・編集、集計など）を考慮し、
  食事はログとは別のエンティティとして管理し、関連付ける形を採用した。

### localStorage から DB（Supabase）への移行判断

- 開発初期は localStorage を使った実装をしていたが、localStorage を本格的に使った経験が少なく、HTML / JavaScript をベタ書きしながら動作を確認するところからスタートした。
- 実装を進める中で、「SP・PC 両方での利用でき、このアプリをポートフォリオとして成立させるには、データ永続化や認証を含めたバックエンド設計が必須」と考えるようになり、バックエンド実装を飛ばして設計だけ知れて、ブラウザ上の操作だけで、一番早く実現できそうとのことで、Supabase を採用した

## 技術的に一番ハマったところ

- 特定のエラーで長時間詰まった、というよりも、Supabase や Vercel といった 初めて触るサービスの管理画面に慣れるまでが一番の壁だった。
- ローカル環境で完結する開発と違い、Auth / Database / Storage / 環境変数 / デプロイ設定など、設定箇所が複数に分かれており、「どこを操作すると、どの挙動に影響するのか」を把握するまでに時間がかかった。
- 特に Supabase は初めての利用だったため、認証設定、RLS（Row Level Security）、SQL Editor、ユーザー管理など、どの機能をどの目的で使うのかを理解する必要があった。
- 一方で、Supabase Auth を利用して**ログインできるアカウントを明示的に制限できた点は大きな学び**だった。
- ログインそのものと、アプリケーションの利用権限を分離し、許可されたメールアドレスのみがデータにアクセス・編集できる設計を行ったことで、「フロントエンドだけでは完結しない権限設計」を実装レベルで理解できた。
- この設計は、今後作成予定のポートフォリオサイトや管理画面などでも、編集者を限定する用途で再利用できると考えている。
- また、アプリの規模が大きくなるにつれて、コンポーネントやロジックの増加に伴い、ディレクトリ構成や責務の分け方についても試行錯誤が必要になった。

## 「これはやってよかった」と思う設計

- 開発初期は localStorage を使った構成からスタートしたが、ポートフォリオとしての完成度や将来の拡張性を考え、途中で Supabase を導入する判断、また Supabase のようなツールを知れたことは結果的に良かったと感じている。
- DB・認証・ストレージを含めた構成に移行したことで、データ構造や権限設計を意識した実装が必要になり、単に「動く」だけでなく「説明できる設計」を考えるようになった。
- 食事や運動といった性質の異なる情報を UI 上では 1 日単位でまとめつつ、データ構造としては分離する設計にしたことで、表示と管理のバランスを取る経験ができた。

## 逆に、今ならこうする

- 初期段階では「まず動かす」ことを優先したため、ディレクトリ構成や責務分離については後追いになった部分も多い。
- 機能単位（logs / meals / auth）で構成を整理するなど、もう一段整理した構成にしたいと考えている。

## 次にやるなら

- ディレクトリ構成の整理・リファクタ
- ログの振り返りをよりしやすくする UI 改善
- 運動タグの色分けの際、自身で新しく運動を追記できる仕組み
